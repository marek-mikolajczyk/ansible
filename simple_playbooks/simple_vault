[root@gen82 ~]# ansible-vault encrypt_string --vault-password-file=/root/pwd.file
Reading plaintext input from stdin. (ctrl-d to end input)
abracadabra
!vault |
          $ANSIBLE_VAULT;1.1;AES256
          38353763323433613837313139663266343966383862343731376138666463386430616139373437
          3663616634393766666261633734313163346462313263310a366433306233376637633132656431
          39316266653732623832386236666637386136343939616162646563346364333834343133643364
          3364363062633933390a633339653266306663323933376337666230343833393130363061653261
          3466
Encryption successful
[root@gen82 ansible_playbooks]# cat secret_spell.yml
- hosts: gen82
  gather_facts: no
  vars:
    secretspell: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38353763323433613837313139663266343966383862343731376138666463386430616139373437
          3663616634393766666261633734313163346462313263310a366433306233376637633132656431
          39316266653732623832386236666637386136343939616162646563346364333834343133643364
          3364363062633933390a633339653266306663323933376337666230343833393130363061653261
          3466
  tasks:
  - name: "what\'s secret spell?"
    debug: msg="secret spell is {{ secretspell }}"
[root@gen82 ansible_playbooks]# ansible-playbook secret_spell.yml -i /etc/ansible/hosts/gen82 --vault-password-file=/root/pwd.file

PLAY [gen82] *****************************************************************************************************************************************************************************************

TASK [what's secret spell?] **************************************************************************************************************************************************************************
ok: [gen82] => {
    "msg": "secret spell is abracadabra\n"
}

PLAY RECAP *******************************************************************************************************************************************************************************************
gen82                      : ok=1    changed=0    unreachable=0    failed=0

